(this.webpackJsonpsocial=this.webpackJsonpsocial||[]).push([[0],{240:function(e,t,n){e.exports=n(407)},404:function(e,t,n){},407:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),l=n.n(c),i=n(7),o=n(9),u=n(76),s=n(218),m=n(6),E=n(411),f=n(30),d=n.n(f);d.a.defaults.baseURL="https://conduit.productionready.io/api/";var p={getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return d.a.get("/articles",{params:{limit:10,offset:10*e}})},del:function(e){return d.a.delete("/articles/".concat(e))},favorite:function(e){return d.a.post("/articles/".concat(e,"/favorite"))},get:function(e){return d.a.get("/articles/".concat(e))},unfavorite:function(e){return d.a.delete("/articles/".concat(e,"/favorite"))},create:function(e){return d.a.post("/articles",{article:e})},edit:function(e,t){return d.a.put("/articles/".concat(e),{article:t})}},g={current:function(){return d.a.get("/user")},register:function(e){return d.a.post("/users",e)},login:function(e){return d.a.post("/users/login",e)}},b=function(e){e&&(d.a.defaults.headers.common.Authorization="Token ".concat(e))},v={follow:function(e){return d.a.post("/profiles/".concat(e,"/follow"))},get:function(e){return d.a.get("/profiles/".concat(e))},unfollow:function(e){return d.a.del("/profiles/".concat(e,"/follow"))}},h={currentUser:{},error:null,isAuthorizedUser:!1,inProgress:!1,isRegistered:!1},_=Object(E.a)({FETCH_USER_REQUEST:function(e){return Object(m.a)({},e,{inProgress:!0})},FETCH_REGISTER_REQUEST:function(e){return Object(m.a)({},e,{inProgress:!0})},FETCH_USER_SUCCESS:function(e,t){var n=t.payload;return Object(m.a)({},e,{currentUser:n.user,inProgress:!1,isAuthorizedUser:!0})},FETCH_USER_FAILURE:function(e){return Object(m.a)({},e,{inProgress:!1})},FETCH_REGISTER_SUCCESS:function(e,t){var n=t.payload;return Object(m.a)({},e,{currentUser:n,inProgress:!1,isRegistered:!0})},FETCH_REGISTER_FAILURE:function(e){return Object(m.a)({},e,{inProgress:!1})},FETCH_AUTH_REQUEST:function(e){return Object(m.a)({},e,{inProgress:!0})},FETCH_AUTH_SUCCESS:function(e,t){var n=t.payload;return Object(m.a)({},e,{currentUser:n.user,inProgress:!1,isAuthorizedUser:!0})},FETCH_AUTH_FAILURE:function(e){return Object(m.a)({},e,{inProgress:!1})},LOGOUT:function(){return localStorage.setItem("jwt",""),b(null),Object(m.a)({},h)},RESET_FORM:function(e){return Object(m.a)({},e,{isRegistered:!1})}},h),O=function(e,t){return e.map((function(e){return e.slug===t.article.slug?Object(m.a)({},e,{favorited:t.article.favorited,favoritesCount:t.article.favoritesCount}):e}))},C=Object(E.a)({FETCH_ARTICLES_REQUEST:function(e){return Object(m.a)({},e,{isProgress:!1})},FETCH_ARTICLES_SUCCESS:function(e,t){var n=t.payload;return Object(m.a)({},e,{articles:n.articles,articlesCount:n.articlesCount,isProgress:!1})},FETCH_ARTICLES_FAILURE:function(e){return Object(m.a)({},e,{isProgress:!1})},ARTICLE_FAVORITED:function(e,t){var n=t.payload;return Object(m.a)({},e,{articles:O(e.articles,n)})},ARTICLE_UNFAVORITED:function(e,t){var n=t.payload;return Object(m.a)({},e,{articles:O(e.articles,n)})}},{articles:[],isProgress:!1}),j={isLoading:!1,profile:{}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PROFILE_REQUEST":return Object(m.a)({},e,{isLoading:!0});case"FETCH_PROFILE_SUCCESS":return Object(m.a)({},e,{profile:t.payload.profile,isLoading:!1});case"RESET_PROFILE":return Object(m.a)({},j);default:return e}},S=Object(E.a)({FETCH_ARTICLE_REQUEST:function(e){return Object(m.a)({},e,{isProgress:!0})},FETCH_ARTICLE_SUCCESS:function(e,t){var n=t.payload;return Object(m.a)({},e,{articleCurrent:n.article,isProgress:!1})},FETCH_ARTICLE_FAILURE:function(e){return Object(m.a)({},e,{isProgress:!1})},FETCH_CREATE_ARTICLE_REQUEST:function(e){return Object(m.a)({},e,{isProgress:!0})},FETCH_CREATE_ARTICLE_SUCCESS:function(e,t){var n=t.payload;return Object(m.a)({},e,{articleCurrent:n.article,isProgress:!1,error:!1})},FETCH_CREATE_ARTICLE_FAILURE:function(e){return Object(m.a)({},e,{isProgress:!1,error:!0})},FETCH_UPDATE_REQUEST:function(e){return Object(m.a)({},e,{isProgress:!0})},FETCH_UPDATE_SUCCESS:function(e,t){var n=t.payload;return console.log(n),Object(m.a)({},e,{articleCurrent:n.article,isProgress:!1,error:!1})},FETCH_UPDATE_FAILURE:function(e){return Object(m.a)({},e,{isProgress:!1,error:!0})}},{isProgress:!1,error:null,articleCurrent:{author:{}}}),R=Object(u.c)({auth:_,articles:C,article:S,userProfile:T}),A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,U=Object(u.e)(R,A(Object(u.a)(s.a))),F=n(53),P=n(54),I=n(57),y=n(55),x=n(58),L=n(80),w=n(12),H=n(10),k=n(410),z=n(412),N=n(408),D=n(17);function Q(){var e=Object(w.a)(["\n  padding: 45px;\n  background-color: ",";\n  box-shadow: 0px 0px 25px rgba(0, 0, 0, 0.04204);\n  border-radius: 3px;\n"]);return Q=function(){return e},e}var M=function(e){var t=e.children,n=e.backcolor;return r.a.createElement(G,{backcolor:n,className:"block"},t)};M.defaultProps={backcolor:""};var G=H.a.div(Q(),(function(e){return e.backcolor})),q=M,V=n(112),W=n(416),B=function(e){return e.touched&&e.error?"error":e.touched?"success":""},J=function(e){var t=e.name,n=e.placeholder,a=e.children,c=e.size,l=Object(D.e)(t),i=Object(V.a)(l,2)[1];return r.a.createElement(k.a.Item,{name:t,hasFeedback:!0,validateStatus:B(i)},r.a.createElement("label",{htmlFor:t},a),r.a.createElement(z.a.Password,{prefix:r.a.createElement(W.a,{className:"site-form-item-icon"}),size:c,id:t,name:t,placeholder:n}))};J.defaultProps={placeholder:"",children:null,size:"default"};var X=J,Z=n(13),$=function(e){var t=e.name,n=e.children,a=e.placeholder,c=e.type,l=e.icon,i=e.size,o=e.validating,u=Object(D.e)(t),s=Object(V.a)(u,2)[1];console.log(s);var m=o?B(s):null;return r.a.createElement(k.a.Item,{name:t,hasFeedback:!0,validateStatus:m},r.a.createElement("label",{htmlFor:t},n),r.a.createElement(z.a,{prefix:r.a.createElement(Z.a,{type:l}),size:i,id:t,type:c,name:t,placeholder:a}))};$.defaultProps={type:"text",placeholder:"",children:null,size:"default",icon:"none",validating:!0};var K=$,Y=function(e){var t=e.name,n=e.children,a=e.placeholder;return r.a.createElement(k.a.Item,{name:t},r.a.createElement("label",{htmlFor:t},n),r.a.createElement(z.a.TextArea,{id:t,name:t,placeholder:a}))};Y.defaultProps={placeholder:"",children:null};var ee=function(){return"/add"===Object(L.g)().pathname?null:r.a.createElement(i.b,{to:"/add"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u0441\u0442")},te=n(160),ne=function(e){var t=e.children,n=e.type;return r.a.createElement(te.a,{type:n},t)};ne.defaultProps={type:""};function ae(){var e=Object(w.a)(["\n  width: 90%;\n  max-width: 1200px;\n  margin: 0 auto;\n"]);return ae=function(){return e},e}var re=H.a.div(ae()),ce=function(e){var t=e.children;return r.a.createElement(re,null,t)};function le(){var e=Object(w.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  .article__author {\n    color: #548eaa;\n    font-weight: 500;\n    font-size: 14px;\n    text-decoration: none;\n    margin: 0 15px 0 0;\n  }\n  .article__desc {\n    margin-right: 10px;\n  }\n  p {\n    margin: 0;\n    font-weight: 700;\n    font-size: 12px;\n    opacity: 0.7;\n  }\n"]);return le=function(){return e},e}function ie(){var e=Object(w.a)(["\n  .article__tag-list {\n    display: flex;\n    list-style: none;\n    padding: 0;\n    opacity: 0.7;\n    font-size: 12px;\n\n    li {\n      margin: 0 0.5em 0 0;\n      color: #5e6973;\n      font-size: 13px;\n      &:hover {\n        color: #548eaa;\n      }\n    }\n  }\n  .article__title {\n    color: #333;\n    font-weight: 500;\n    font-size: 28px;\n    line-height: 36.4px;\n\n    &:hover {\n      color: #548eaa;\n    }\n    &:active {\n      color: #5790ac;\n    }\n  }\n"]);return ie=function(){return e},e}function oe(){var e=Object(w.a)(["\n  border: 2px solid rgba(0, 0, 0, 0.05);\n  background: #fff;\n  margin-bottom: 20px;\n  padding: 25px 15px;\n"]);return oe=function(){return e},e}var ue=H.a.div(oe()),se=H.a.div(ie()),me=H.a.div(le()),Ee=function(e){var t=e.article,n=e.getArticle,a=r.a.createElement("div",null,r.a.createElement("ul",{className:"article__tag-list"},t.tagList.map((function(e){return r.a.createElement("li",{key:e},e)}))));return r.a.createElement(ue,null,r.a.createElement(me,null,r.a.createElement("div",{className:"article__author"},r.a.createElement("span",{className:"article__desc"},"\u0410\u0432\u0442\u043e\u0440:"),r.a.createElement(i.b,{onClick:function(){localStorage.setItem("ProfileName",t.author.username)},to:"/".concat(t.author.username)},t.author.username)),r.a.createElement(ft,{date:t.createdAt})),r.a.createElement(se,null,r.a.createElement(i.b,{onClick:function(){n(t.slug)},to:"/articles/".concat(t.slug)},r.a.createElement("div",null,r.a.createElement("h3",{className:"article__title"},t.title)),0===t.tagList.length?null:a),r.a.createElement(at,{favorited:t.favorited,count:t.favoritesCount,slug:t.slug})))},fe=n(409),de=n(143),pe=n(415),ge=Object(pe.a)("FETCH_ARTICLES_REQUEST"),be=Object(pe.a)("FETCH_ARTICLES_SUCCESS"),ve=Object(pe.a)("FETCH_ARTICLES_FAILURE"),he=Object(pe.a)("FETCH_ARTICLE_REQUEST"),_e=Object(pe.a)("FETCH_ARTICLE_SUCCESS"),Oe=Object(pe.a)("FETCH_ARTICLE_FAILURE"),Ce=Object(pe.a)("FETCH_CREATE_ARTICLE_REQUEST"),je=Object(pe.a)("FETCH_CREATE_ARTICLE_SUCCESS"),Te=Object(pe.a)("FETCH_CREATE_ARTICLE_FAILURE"),Se=Object(pe.a)("FETCH_UPDATE_REQUEST"),Re=Object(pe.a)("FETCH_UPDATE_SUCCESS"),Ae=Object(pe.a)("FETCH_UPDATE_FAILURE"),Ue=Object(pe.a)("ARTICLE_FAVORITED"),Fe=Object(pe.a)("ARTICLE_UNFAVORITED"),Pe=(Object(pe.a)("RESET_FORM_ARTICLE"),function(e){return function(t){t(ge()),p.getAll(e).then((function(e){var n=e.data;t(be(n))})).catch((function(e){t(ve())}))}}),Ie=function(e){return function(t){localStorage.setItem("articleSlug",e),t(he()),p.get(e).then((function(e){var n=e.data;t(_e(n))})).catch((function(e){t(Oe())}))}},ye=Object(pe.a)("FETCH_REGISTER_REQUEST"),xe=Object(pe.a)("FETCH_REGISTER_SUCCESS"),Le=Object(pe.a)("FETCH_REGISTER_FAILURE"),we=Object(pe.a)("FETCH_AUTH_REQUEST"),He=Object(pe.a)("FETCH_AUTH_SUCCESS"),ke=Object(pe.a)("FETCH_AUTH_FAILURE"),ze=Object(pe.a)("FETCH_USER_REQUEST"),Ne=Object(pe.a)("FETCH_USER_SUCCESS"),De=Object(pe.a)("FETCH_USER_FAILURE"),Qe=Object(pe.a)("LOGOUT"),Me=Object(pe.a)("RESET_FORM");function Ge(){var e=Object(w.a)(["\n  display: flex;\n  justify-content: center;\n"]);return Ge=function(){return e},e}var qe={getAllArticles:Pe},Ve=function(e){var t=e.getAllArticles,n=e.articlesCount;return n<=10?null:r.a.createElement(We,null,r.a.createElement(fe.a,{onChange:function(e){return t(e-1)},total:n}))},We=H.a.nav(Ge());Ve.defaultProps={articlesCount:0};var Be=Object(o.b)((function(e){var t=e.articles;return{articles:t.articles,articlesCount:t.articlesCount}}),qe)(Ve),Je=function(){return r.a.createElement("div",null,r.a.createElement(i.b,{to:"/login"},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement("span",null,"\u0438\u043b\u0438"),r.a.createElement(i.b,{to:"/signup"},"\u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))},Xe=function(e){var t=e.profileName,n=e.username,a=e.children;return r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(i.b,{onClick:function(){localStorage.setItem("ProfileName",n),t(n)},to:"/".concat(n)},n)),a)};Xe.defaultProps={username:"",children:null};var Ze=Xe,$e=function(){return"/"===Object(L.g)().pathname?null:r.a.createElement("div",null,r.a.createElement(i.b,{to:"/"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"))},Ke=(n(404),function(){return r.a.createElement("div",{className:"loadingio-spinner-spinner-223z6fdkjge"},r.a.createElement("div",{className:"ldio-vwhx2ilfl4e"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),Ye=n(418);function et(){var e=Object(w.a)(["\n  cursor: pointer;\n  background: inherit;\n  border: none;\n"]);return et=function(){return e},e}var tt={favorite:function(e){return function(t){p.favorite(e).then((function(e){var n=e.data;t(Ue(n))}))}},unfavorite:function(e){return function(t){p.unfavorite(e).then((function(e){var n=e.data;t(Fe(n))}))}}},nt=H.a.button(et()),at=Object(o.b)((function(){return{}}),tt)((function(e){var t=e.count,n=e.favorite,a=e.unfavorite,c=e.slug,l=e.favorited;return r.a.createElement(nt,{favorited:l,type:"button",onClick:function(){return l?a(c):n(c)}},t,r.a.createElement(Ye.a,{width:"2.5em",height:"2.5em",twoToneColor:l?"#0cf77e":"#3e4240"}))})),rt=n(414),ct=n(417);function lt(){var e=Object(w.a)(["\n  width: 300px;\n  background-color: #fff;\n"]);return lt=function(){return e},e}var it=function(e){var t=e.success,n=e.resetFormState;return r.a.createElement(ot,{success:t},r.a.createElement(rt.a,{icon:r.a.createElement(ct.a,{twoToneColor:"#52c41a"}),title:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!",extra:r.a.createElement(i.b,{onClick:n,to:"/login",type:"primary"},"\u0412\u043e\u0439\u0442\u0438")}))};it.defaultProps={success:!1};var ot=H.a.div(lt()),ut=it,st=function(e){var t=e.slug;return r.a.createElement("div",null,r.a.createElement(i.b,{to:"/articles/".concat(t,"/edit")},"\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0442\u044c"),r.a.createElement(i.b,{to:"/articles/".concat(t,"/edit")},"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"))},mt=n(236),Et=n(235),ft=function(e){var t=e.date;if(void 0===t)return null;var n=Object(Et.a)(new Date(t),{locale:mt.a,addSuffix:!0});return r.a.createElement("p",null,r.a.createElement("time",{dateTime:t},n))};function dt(){var e=Object(w.a)(["\n  display: flex;\n  justify-content: flex-end;\n"]);return dt=function(){return e},e}function pt(){var e=Object(w.a)(["\n  width: 50%;\n  max-width: 700px;\n  margin: 0 auto;\n"]);return pt=function(){return e},e}var gt={articleCreate:function(e,t,n){return function(a){a(Ce()),p.create(e).then((function(e){var t=e.data;console.log(t),a(je(t)),n()})).catch((function(e){var r=e.response.data.errors;a(Te()),t(r),n()}))}},editArticle:function(e,t){return function(n){n(Se());var a=Object.entries(t).reduce((function(e,t){var n=Object(V.a)(t,2),a=n[0],r=n[1];return""===r?e:Object(m.a)({},e,Object(de.a)({},a,r))}),{});console.log(e,a),p.edit(e,a).then((function(e){var t=e.data;n(Re(t))})).catch((function(e){console.log(e),n(Ae())}))}}},bt=H.a.div(pt()),vt=H.a.div(dt()),ht=Object(o.b)((function(e){var t=e.article;return{articleCurrent:t.articleCurrent,error:t.error}}),gt)((function(e){var t=e.articleCreate,n=e.editArticle,a=e.articleCurrent,c=e.error,l=Object(L.g)().pathname;if(!1===c)return localStorage.setItem("articleSlug",a.slug),r.a.createElement(L.a,{to:"/articles/".concat(a.slug)});return r.a.createElement(bt,null,r.a.createElement(D.c,{initialValues:function(e){return"/add"!==e?{title:a.title,description:a.description,body:a.body}:{title:"",description:"",body:"",tagList:""}}(l),onSubmit:function(e,r){var c=r.setSubmitting,i=r.setErrors;"/add"===l?t(e,(function(e){return i(e)}),(function(){return c(!1)})):n(a.slug,e)}},r.a.createElement(k.a,null,r.a.createElement(k.a.Item,{name:"title"},r.a.createElement(z.a,{name:"title",placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043f\u043e\u0441\u0442\u0430"})),r.a.createElement(k.a.Item,{name:"description"},r.a.createElement(z.a,{name:"description",placeholder:"\u043e \u0447\u0435\u043c \u044d\u0442\u043e\u0442 \u043f\u043e\u0441\u0442?"})),r.a.createElement(k.a.Item,{name:"body"},r.a.createElement(z.a.TextArea,{rows:5,name:"body",placeholder:"\u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u043f\u043e\u0441\u0442"})),r.a.createElement(k.a.Item,{name:"tagList"},r.a.createElement(z.a,{name:"tagList",placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u0433\u0438"})),r.a.createElement(vt,null,r.a.createElement(N.a,{size:"large"},"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c")))))})),_t=(Object(pe.a)("FETCH_REGISTER_REQUEST"),function(){return{type:"RESET_PROFILE"}}),Ot=function(e){return function(t){console.log(e),t({type:"FETCH_PROFILE_REQUEST"}),v.get(e).then((function(e){var n=e.data;t(function(e){return{type:"FETCH_PROFILE_SUCCESS",payload:e}}(n))}))}};function Ct(){var e=Object(w.a)(["\n  background: #eee;\n  padding: 30px 0;\n\n  > div {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n"]);return Ct=function(){return e},e}var jt={onLogout:Qe,getProfile:Ot},Tt=H.a.header(Ct()),St=Object(o.b)((function(e){var t=e.auth;return{currentUser:t.currentUser,isAuthorizedUser:t.isAuthorizedUser}}),jt)((function(e){var t=e.getProfile,n=e.isAuthorizedUser,a=e.onLogout,c=e.currentUser;return console.log(n),r.a.createElement(Tt,null,r.a.createElement(ce,null,r.a.createElement("div",null,r.a.createElement($e,null),n?r.a.createElement(Ze,{profileName:t,username:c.username},r.a.createElement(ee,null)):null),r.a.createElement("div",null,n?r.a.createElement(te.a,{onClick:a},"\u0432\u044b\u0445\u043e\u0434"):r.a.createElement(Je,null))))})),Rt=n(62),At=Rt.a().shape({username:Rt.b().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0438\u043c\u044f"),password:Rt.b().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),repeatPassword:Rt.b().test("passwords-match","\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u043e\u0434\u0430\u044e\u0442",(function(e){return this.parent.password===e})).required("Required"),email:Rt.b().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 E-mail")}),Ut={registration:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return function(a){a(ye()),g.register({user:{username:e.username,email:e.email,password:e.password}}).then((function(e){var t=e.data.user;a(xe(t)),n()})).catch((function(e){a(Le());var r=e.response.data.errors;t(r),n()}))}},resetFormState:Me},Ft=Object(o.b)((function(e){return{isRegistered:e.auth.isRegistered}}),Ut)((function(e){var t=e.registration,n=e.isRegistered,a=e.resetFormState;return n?r.a.createElement(ut,{success:n,resetFormState:a}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h2",{className:"auth__title"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("p",{className:"auth__text"},"\u0414\u043b\u044f \u0432\u0445\u043e\u0434\u0430, \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),r.a.createElement(q,{backcolor:"#fff"},r.a.createElement(D.c,{initialValues:{username:"",password:"",repeatPassword:"",email:""},validationSchema:At,onSubmit:function(e,a){var r=a.setSubmitting,c=a.setErrors,l=a.resetForm;t(e,(function(e){return c(e)}),(function(){return r(!1)})),n&&l()}},r.a.createElement(k.a,null,r.a.createElement(K,{type:"mail",name:"email",placeholder:"E-Mail",icon:"mail",size:"large"}),r.a.createElement(K,{name:"username",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",icon:"user",size:"large"}),r.a.createElement(X,{name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),r.a.createElement(X,{name:"repeatPassword",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",size:"large"}),r.a.createElement("div",null,r.a.createElement(N.a,{size:"large",block:!0},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),r.a.createElement("div",{className:"form__link"},r.a.createElement(i.b,{to:"/login"},"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"))))))})),Pt=Rt.a().shape({password:Rt.b().min(8,"Must be 8 characters or more").max(40,"Must be 40 characters or less").test("pass","Latin letters and numbers only, at least one number and one capital letter",(function(e){return/(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])/.test(e)})).required("Required"),email:Rt.b().email("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0435\u043a\u0442\u043d\u044b\u0435 E-mail").required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 E-mail")}),It={loginUser:function(e){return function(t){t(we()),g.login({user:{email:e.email,password:e.password}}).then((function(e){var n=e.data.user;localStorage.setItem("jwt",n.token),b(n.token),t(He({user:n}))})).catch((function(){t(ke())}))}}},yt=Object(o.b)((function(e){return{email:e.auth.currentUser.email}}),It)((function(e){var t=e.loginUser,n=e.email;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h2",{className:"auth__title"},"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement("p",{className:"auth__text"},"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442")),r.a.createElement(q,{backcolor:"#fff"},r.a.createElement(D.c,{initialValues:{password:"",email:"".concat(n||"")},validationSchema:Pt,onSubmit:function(e,n){var a=n.setSubmitting,r=n.setErrors;t(e,a,r)}},r.a.createElement(k.a,null,r.a.createElement(k.a.Item,{name:"email"},r.a.createElement(z.a,{prefix:r.a.createElement(Z.a,{type:"user"}),size:"large",type:"email",name:"email",placeholder:"E-mail"})),r.a.createElement(k.a.Item,{name:"password"},r.a.createElement(z.a.Password,{prefix:r.a.createElement(Z.a,{type:"lock"}),size:"large",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})),r.a.createElement("div",null,r.a.createElement(N.a,{size:"large",block:!0},"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442")),r.a.createElement("div",{className:"form__link"},r.a.createElement(i.b,{to:"/signup"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))))}));function xt(){var e=Object(w.a)(["\n  background: #eee;\n"]);return xt=function(){return e},e}function Lt(){var e=Object(w.a)(["\n  max-width: 500px;\n  width: 100%;\n  margin: 0 auto;\n"]);return Lt=function(){return e},e}function wt(){var e=Object(w.a)(["\n  margin: 50px 0;\n"]);return wt=function(){return e},e}var Ht={getProfile:Ot,getAllArticles:Pe,getArticle:Ie},kt=function(e){function t(){return Object(F.a)(this,t),Object(I.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getAllArticles)()}},{key:"render",value:function(){var e=this.props,t=e.articles,n=e.getProfile,a=e.getArticle;return r.a.createElement(Dt,null,r.a.createElement(Nt,null,t.map((function(e){return r.a.createElement(Ee,{article:e,getArticle:a,getProfileName:n,key:e.slug})}))),r.a.createElement(zt,null,r.a.createElement(Be,null)))}}]),t}(r.a.Component),zt=H.a.div(wt()),Nt=H.a.div(Lt()),Dt=H.a.main(xt()),Qt=Object(o.b)((function(e){return{articles:e.articles.articles}}),Ht)(kt),Mt=function(e){var t=e.profile;return e.isLoading?r.a.createElement(Ke,null):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{alt:t.username,width:"128",height:"128",src:t.image})),r.a.createElement("div",null,r.a.createElement("h1",null,t.username),r.a.createElement("div",null,r.a.createElement("a",{href:""},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"))))},Gt=function(e){var t=e.article,n=e.isProgress,a=e.canModify,c=e.getProfile;return n?r.a.createElement(Ke,null):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(i.b,{onClick:c,to:"/".concat(t.author.username)},r.a.createElement("img",{src:t.author.image,alt:t.author.username})),r.a.createElement(i.b,{onClick:c,to:"/".concat(t.author.username)},t.author.username),r.a.createElement("span",null,t.author.bio)),r.a.createElement("div",null,r.a.createElement("h3",null,t.title),r.a.createElement("p",null,t.body),r.a.createElement("div",null,t.description),r.a.createElement("div",null,t.tagList),r.a.createElement("div",null,r.a.createElement(ft,{date:t.createdAt})),r.a.createElement("div",null,r.a.createElement("span",null,"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435"),r.a.createElement(ft,{date:t.updatedAt})),r.a.createElement("div",null,r.a.createElement(at,{count:t.favoritesCount,slug:t.slug,favorited:t.favorited}))),a&&r.a.createElement(st,{slug:t.slug}))};function qt(){var e=Object(w.a)(["\n  text-align: center;\n  color: #202002;\n  display: flex;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n\n  > div {\n    width: 400px;\n    max-width: 75%;\n  }\n\n  .auth__title {\n    font-size: 28px;\n    line-height: 33px;\n    margin-bottom: 5px;\n  }\n  .form__link {\n    margin-top: 30px;\n\n    a {\n      font-size: 16px;\n      line-height: 19px;\n      color: #adadad;\n\n      &:hover {\n        color: #1890ff;\n      }\n      &:focus {\n        color: #1890ff;\n      }\n      &:active {\n        color: #1890ff;\n      }\n    }\n  }\n\n  .auth__text {\n    opacity: 0.5;\n    font-weight: 300;\n    font-size: 18px;\n    line-height: 21px;\n  }\n  .btn {\n    width: 200px;\n    height: 200px;\n    background: #000;\n  }\n  .btn-2 {\n    background: red;\n  }\n"]);return qt=function(){return e},e}var Vt=function(e){return e.isAuthorizedUser?r.a.createElement(L.a,{to:"/"}):r.a.createElement(Wt,null,r.a.createElement("div",null,r.a.createElement(L.b,{exact:!0,path:"/login",component:yt}),r.a.createElement(L.b,{exact:!0,path:"/signup",component:Ft})))};Vt.defaultProps={isAuthorizedUser:!1};var Wt=H.a.div(qt()),Bt=Object(o.b)((function(e){return{isAuthorizedUser:e.auth.isAuthorizedUser}}))(Vt),Jt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(St,null),r.a.createElement(Qt,null))};function Xt(){var e=Object(w.a)(["\n  margin: 50px 0;\n"]);return Xt=function(){return e},e}var Zt=H.a.div(Xt()),$t=Object(o.b)((function(e){return{isAuthorizedUser:e.auth.isAuthorizedUser}}))((function(e){return e.isAuthorizedUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(St,null),r.a.createElement(Zt,null,r.a.createElement(ht,null))):r.a.createElement(L.a,{to:"/login"})})),Kt={getProfile:Ot,resetProfile:_t},Yt=function(e){function t(){return Object(F.a)(this,t),Object(I.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getProfile)(localStorage.getItem("ProfileName"))}},{key:"componentWillUnmount",value:function(){(0,this.props.resetProfile)()}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.isLoading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(St,null),r.a.createElement(ce,null,r.a.createElement(Mt,{profile:t,isLoading:n})))}}]),t}(r.a.Component),en=Object(o.b)((function(e){var t=e.userProfile;return{profile:t.profile,isLoading:t.isLoading}}),Kt)(Yt),tn={getArticle:Ie,getProfile:Ot,resetProfile:_t},nn=function(e){function t(){return Object(F.a)(this,t),Object(I.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getArticle)(localStorage.getItem("articleSlug"))}},{key:"render",value:function(){var e=this.props,t=e.article,n=e.isProgress,a=e.username===t.author.username;return r.a.createElement(r.a.Fragment,null,r.a.createElement(St,null),r.a.createElement(ce,null,r.a.createElement(Gt,{canModify:a,article:t,getProfile:Ot,isProgress:n})))}}]),t}(r.a.Component),an=Object(o.b)((function(e){var t=e.article,n=e.auth;return{article:t.articleCurrent,isProgress:t.isProgress,username:n.currentUser.username}}),tn)(nn),rn={getArticle:Ie},cn=function(e){function t(){return Object(F.a)(this,t),Object(I.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getArticle)(localStorage.getItem("articleSlug"))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(St,null),r.a.createElement(ce,null,r.a.createElement(ht,null)))}}]),t}(r.a.Component),ln=Object(o.b)((function(){return{}}),rn)(cn),on=Ke,un=(n(405),n(406),{setUserData:function(){return function(e){var t=localStorage.getItem("jwt");t&&b(t),e(ze()),g.current().then((function(t){var n=t.data;e(Ne(n))})).catch((function(){e(De())}))}}}),sn=function(e){function t(){return Object(F.a)(this,t),Object(I.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.setUserData)()}},{key:"render",value:function(){return this.props.inProgress?r.a.createElement(on,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(L.d,null,r.a.createElement(L.b,{exact:!0,path:"/",component:Jt}),r.a.createElement(L.b,{path:["/login","/signup"],component:Bt}),r.a.createElement(L.b,{path:"/add",component:$t}),r.a.createElement(L.b,{exact:!0,path:"/:username",component:en}),r.a.createElement(L.b,{exact:!0,path:"/articles/:slug",component:an}),r.a.createElement(L.b,{path:"/articles/:slug/edit",component:ln})))}}]),t}(r.a.Component),mn=Object(o.b)((function(e){var t=e.auth;return{isAuthorizedUser:t.isAuthorizedUser,inProgress:t.inProgress}}),un)(sn);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(i.a,null,r.a.createElement(o.a,{store:U},r.a.createElement(mn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[240,1,2]]]);
//# sourceMappingURL=main.2412ecbe.chunk.js.map