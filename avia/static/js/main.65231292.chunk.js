(this.webpackJsonpstopwatch=this.webpackJsonpstopwatch||[]).push([[0],{24:function(e,n,t){e.exports=t.p+"static/media/Shape.68ca57dc.svg"},29:function(e,n,t){e.exports=t.p+"static/media/Logo.96990a1b.svg"},31:function(e,n,t){e.exports=t(58)},36:function(e,n,t){},40:function(e,n,t){},58:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(23),i=t.n(c),l=(t(36),t(10)),o=t(4),u=t(6),s=t(8),f=t(7),d=t(9),p=t(1),h=t(2),m=t(24),g=t.n(m);function b(){var e=Object(p.a)(["\n  text-align: left;\n  height: 40px;\n  padding: 0 20px;\n  font-weight: normal;\n  font-size: 13px;\n  position: relative;\n  display: flex;\n  align-items: center;\n\n  &:hover {\n    background: #f1fcff;\n  }\n  &:focus {\n    background: #f1fcff;\n    .checkbox {\n      &::after {\n        border: 1px solid red;\n      }\n    }\n  }\n  &:active {\n    background: #f1fcff;\n  }\n\n  input {\n    opacity: 0;\n    position: absolute;\n    z-index: -1;\n    &:checked {\n      + .checkbox {\n        &::before {\n          content: '';\n          position: absolute;\n          background-position: center center;\n          width: 12px;\n          height: 8px;\n          top: 6px;\n          left: 5px;\n          background: url(",") no-repeat;\n        }\n        &::after {\n          border: 1px solid #2196f3;\n        }\n      }\n    }\n    + .checkbox::after {\n      content: '';\n      width: 20px;\n      height: 20px;\n      position: absolute;\n      border: 1px solid #9abbce;\n      box-sizing: border-box;\n      border-radius: 2px;\n    }\n  }\n"]);return b=function(){return e},e}function v(){var e=Object(p.a)(["\n  display: inline-block;\n  left: 0;\n  margin-right: 10px;\n  position: relative;\n  width: 20px;\n  height: 20px;\n"]);return v=function(){return e},e}var k=h.b.span(v()),x=h.b.label(b(),g.a),E=function e(n){var t=n.label,a=n.checked,c=n.index,i=n.inputValue,l=n.transferChange,o=n.filterAllTickets;return e.defaultProps={transferChange:function(){},filterAllTickets:function(){},label:"",checked:!1,index:0,inputValue:0},r.a.createElement("div",null,r.a.createElement(x,null,r.a.createElement("input",{type:"checkbox",onChange:function(){l(c,i),o()},checked:a}),r.a.createElement(k,{className:"checkbox"}),t))};function j(){var e=Object(p.a)(["\n  padding: 0;\n  margin: 10px 0 5px 0;\n  list-style: none;\n"]);return j=function(){return e},e}function O(){var e=Object(p.a)(["\n  background: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  padding: 5px 0;\n"]);return O=function(){return e},e}function w(){var e=Object(p.a)(["\n  font-style: normal;\n  margin: 15px 0 0 20px;\n  text-align: left;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 12px;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n"]);return w=function(){return e},e}var A=h.b.p(w()),y=h.b.div(O()),T=h.b.ul(j()),I=function e(n){var t=n.filterItems,a=n.transferChange,c=n.filterAllTickets;return e.defaultProps={transferChange:function(){},filterAllTickets:function(){},filterItems:[]},r.a.createElement(y,{className:"filters__item filter"},r.a.createElement(A,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(T,null,t.map((function(e,n){var t=e.label,i=e.id,l=e.checked,o=e.inputValue;return r.a.createElement("li",{key:i},r.a.createElement(E,{label:t,checked:l,index:n,inputValue:o,transferChange:a,filterAllTickets:c}))}))))))};function _(){var e=Object(p.a)(["\n  width: 50%;\n  display: inline-block;\n  font-size: 15px;\n  height: 50px;\n  left: calc(50% - 251px / 2 + 252.5px);\n  background: ",";\n  color: ",";\n  border: 1px solid #dfe5ec;\n  &:nth-child(1) {\n    border-radius: 10px 0 0 10px;\n  }\n  &:nth-child(2) {\n    border-radius: 0 10px 10px 0;\n  }\n"]);return _=function(){return e},e}var C=h.b.button(_(),(function(e){return e.active?"#2196F3":"#fff"}),(function(e){return e.active?"#fff":"#4A4A4A"})),z=function(e){function n(){var e;return Object(o.a)(this,n),(e=Object(s.a)(this,Object(f.a)(n).call(this))).isActive=function(n){var t=n.target;e.setState({active:t.name})},e.state={active:null},e}return Object(d.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this,n=this.props.sortAllTickets,t=this.state.active;return r.a.createElement("div",{className:"tabs-wrapper"},r.a.createElement(C,{name:"cheapest",onClick:function(t){n(t),e.isActive(t)},active:"cheapest"===t},"\u0441\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"),r.a.createElement(C,{name:"fastest",onClick:function(t){n(t),e.isActive(t)},active:"fastest"===t},"\u0441\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"))}}]),n}(r.a.Component);z.defaultProps={sortAllTickets:function(){}};var N=z,S=t(5),V=function(e){return e.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1 ")},P=function(e){var n;return 1===e.length&&(n="".concat(e.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430")),e.length>1&&(n="".concat(e.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")),0===e.length&&(n="\u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),n},H=function(e,n,t){var a=e.getHours()+n,r=e.getMinutes()+t,c=0;return a>=24&&(a-=24)>=24&&(a-=24),r>=60?(c=r-60,a+=1):c=r,"".concat(a<10?"0".concat(a):a,":").concat(c<10?"0".concat(c):c)};function L(){var e=Object(p.a)(["\n  width: 35%;\n\n  :nth-last-of-type(1) {\n    width: auto;\n  }\n"]);return L=function(){return e},e}function M(){var e=Object(p.a)(["\n  color: #4a4a4a;\n  margin: 0;\n  font-size: 14px;\n  line-height: 21px;\n  font-weight: 600;\n"]);return M=function(){return e},e}function q(){var e=Object(p.a)(["\n  color: #a0b0b9;\n  letter-spacing: 0.5px;\n  margin: 11px 0 0 0;\n  font-size: 12px;\n  line-height: 18px;\n  text-transform: uppercase;\n"]);return q=function(){return e},e}function B(){var e=Object(p.a)(["\n  display: flex;\n  text-align: left;\n\n  &.ticket-preview__flight {\n    width: 33%;\n  }\n"]);return B=function(){return e},e}var D=h.b.div(B()),F=h.b.p(q()),J=h.b.p(M()),W=h.b.div(L()),$=function e(n){var t=n.segments;e.defaultProps={segments:[]};var a=function(e,n){return"".concat(e,":").concat(n<10?"0".concat(n):n)};return t.map((function(e){var n=e.origin,t=e.destination,c=e.date,i=e.duration,l=e.stops,o=l.reduce((function(e,n){return"".concat(n," ").concat(e)}),""),u=Math.floor(i/60),s=i-60*u,f=new Date(c),d=a(f.getHours(),f.getMinutes());return r.a.createElement(D,{key:Object(S.uniqueId)()},r.a.createElement(W,null,r.a.createElement(F,null,"".concat(n," - ").concat(t)),r.a.createElement(J,null,"".concat(d," - ").concat(H(f,u,s)))),r.a.createElement(W,null,r.a.createElement(F,null,"\u0412 \u043f\u0443\u0442\u0438"),r.a.createElement(J,null,a(u,s),"\u043c")),r.a.createElement(W,null,r.a.createElement(F,null,P(l)),r.a.createElement(J,null,o)))}))};function R(){var e=Object(p.a)(["\n  color: #2196f3;\n  margin: 7px 0 0 0px;\n  font-size: 24px;\n  line-height: 24px;\n"]);return R=function(){return e},e}function U(){var e=Object(p.a)(["\n  margin: 0 30px 0 0;\n"]);return U=function(){return e},e}function G(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return G=function(){return e},e}function K(){var e=Object(p.a)(["\n  background: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  margin-top: 20px;\n  padding: 20px;\n"]);return K=function(){return e},e}var Q=h.b.div(K()),X=h.b.div(G()),Y=h.b.div(U()),Z=h.b.div(R()),ee=function e(n){var t=n.tickets;e.defaultProps={tickets:function(){}};var a=0;return r.a.createElement(r.a.Fragment,null,t().map((function(e){var n=e.price,t=e.carrier,c=e.segments;return(a+=1)>5?null:r.a.createElement(Q,{key:Object(S.uniqueId)()},r.a.createElement(X,null,r.a.createElement(Z,null,r.a.createElement("span",null,"".concat(V(n)," \u0420"))),r.a.createElement("div",{className:"ticket-preview__carriers"},r.a.createElement(Y,null,r.a.createElement("img",{className:"ticket-carrier__img",src:"//pics.avs.io/99/36/".concat(t,".png"),width:"100",height:"40",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"})))),r.a.createElement($,{key:Object(S.uniqueId)(),segments:c}))})))},ne=(t(40),function(){return r.a.createElement("div",{className:"loadingio-spinner-spinner-223z6fdkjge"},r.a.createElement("div",{className:"ldio-vwhx2ilfl4e"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),te=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cheapest";return e.sort((function(e,t){return"cheapest"===n?e.price-t.price:"fastest"===n?e.segments.reduce((function(e,n){return n.duration+e}),0)-t.segments.reduce((function(e,n){return n.duration+e}),0):null}))},ae=t(28),re=t.n(ae).a.create({baseURL:"https://front-test.beta.aviasales.ru/"}),ce="search",ie="tickets?searchId=",le=function e(){Object(o.a)(this,e),this.getTicketsId=function(){return re.get(ce)},this.getAllTickets=function(e){return re.get("".concat(ie).concat(e))}};function oe(){var e=Object(p.a)(["\n  text-align: center;\n  background-color: #e5e5e5;\n  display: grid;\n  grid-template-columns: 232px 502px;\n  grid-gap: 30px 20px;\n  justify-content: center;\n  margin-top: 148px;\n  .header__logo {\n    grid-row: 1;\n    grid-column: 2 / 2;\n    display: flex;\n    margin-left: 83px;\n  }\n\n  .sidebar {\n    grid-row: 2 / 2;\n    grid-column: 1 / 2;\n  }\n\n  .main {\n    grid-row: 2 / 2;\n    grid-column: 2 / 2;\n  }\n"]);return oe=function(){return e},e}function ue(){var e=Object(p.a)(["\n  body {\n    background-color: #E5E5E5;\n    font-family: 'Open Sans', sans-serif;\n    font-size: 12px;\n    font-weight: 600;\n    color: #4A4A4A;\n    line-height: 20px;\n  }\n"]);return ue=function(){return e},e}var se=Object(h.a)(ue()),fe=h.b.div(oe()),de=t(29),pe=t.n(de),he=function(e){function n(){var e;return Object(o.a)(this,n),(e=Object(s.a)(this,Object(f.a)(n).call(this))).initialStateLabel=[{label:"\u0412\u0441\u0435",id:"all",inputValue:0,checked:!0},{label:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a",id:"non-stop",inputValue:1,checked:!0},{label:"1 \u043f\u0435\u0440\u0441\u0430\u0434\u043a\u0430",id:"1-transplant",inputValue:2,checked:!0},{label:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",id:"2-transplant",inputValue:3,checked:!0},{label:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",id:"3-transplant",inputValue:4,checked:!0}],e.services=new le,e.changeTransferHandler=function(n,t){var a=e.state.filterItems;a.forEach((function(e,r){a[0].checked&&(a[r].checked=!0),r===n&&(a[r].checked=!a[r].checked),a[0].checked||0!==t||(a[r].checked=!1),a[r].checked||(a[0].checked=!1)})),4===a.filter((function(e){return e.checked})).length&&(a[0].checked=!0),e.setState({filterItems:a})},e.tickets=function(){var n=e.state.ticketId;e.services.getAllTickets(n).then((function(n){if(!n.data.stop){var t=n.data.tickets,a=e.state.ticketsAll;e.setState({ticketsAll:[].concat(Object(l.a)(a),Object(l.a)(t)),loading:!1}),e.tickets()}})).catch((function(){return e.tickets()}))},e.filterAllTickets=function(){var n=e.state,t=n.ticketsAll,a=n.filterItems;return a[0].checked?t:t.filter((function(e){return a[e.segments[0].stops.length+1].checked}))},e.sortAllTickets=function(n){var t=n.target.name,a=e.state.ticketsAll,r=te(a,t);e.setState({ticketsAll:r})},e.state={ticketsAll:[],ticketId:null,loading:!0,filterItems:Object(l.a)(e.initialStateLabel)},e}return Object(d.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.services.getTicketsId().then((function(n){var t=n.data;return e.setState({ticketId:t.searchId})})),this.tickets()}},{key:"render",value:function(){var e=this.state,n=e.loading,t=e.filterItems;return r.a.createElement(fe,null,r.a.createElement(se,null),r.a.createElement("div",{className:"header__logo"},r.a.createElement("img",{src:pe.a,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f"})),r.a.createElement("div",{className:"sidebar"},r.a.createElement(I,{filterAllTickets:this.filterAllTickets,transferChange:this.changeTransferHandler,filterItems:t})),r.a.createElement("div",{className:"main"},r.a.createElement(N,{sortAllTickets:this.sortAllTickets}),n?r.a.createElement(ne,null):r.a.createElement(ee,{tickets:this.filterAllTickets})))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(57);i.a.render(r.a.createElement(he,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.65231292.chunk.js.map