(this.webpackJsonpstopwatch=this.webpackJsonpstopwatch||[]).push([[0],{27:function(e,n,t){e.exports=t.p+"static/media/Shape.68ca57dc.svg"},31:function(e,n,t){e.exports=t.p+"static/media/Logo.96990a1b.svg"},33:function(e,n,t){e.exports=t(61)},38:function(e,n,t){},42:function(e,n,t){},61:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(26),i=t.n(c),l=(t(38),t(11)),o=t(4),s=t(7),u=t(9),d=t(8),f=t(10),p=t(1),h=t(2),g=t(27),m=t.n(g);function b(){var e=Object(p.a)(["\n  text-align: left;\n  height: 40px;\n  padding: 0 20px;\n  font-weight: normal;\n  font-size: 13px;\n  position: relative;\n  display: flex;\n  align-items: center;\n\n  &:hover {\n    background: #f1fcff;\n  }\n  &:focus {\n    background: #f1fcff;\n    .checkbox {\n      &::after {\n        border: 1px solid red;\n      }\n    }\n  }\n  &:active {\n    background: #f1fcff;\n  }\n\n  input {\n    opacity: 0;\n    position: absolute;\n    z-index: -1;\n    &:checked {\n      + .checkbox {\n        &::before {\n          content: '';\n          position: absolute;\n          background-position: center center;\n          width: 12px;\n          height: 8px;\n          top: 6px;\n          left: 5px;\n          background: url(",") no-repeat;\n        }\n        &::after {\n          border: 1px solid #2196f3;\n        }\n      }\n    }\n    + .checkbox::after {\n      content: '';\n      width: 20px;\n      height: 20px;\n      position: absolute;\n      border: 1px solid #9abbce;\n      box-sizing: border-box;\n      border-radius: 2px;\n    }\n  }\n"]);return b=function(){return e},e}function v(){var e=Object(p.a)(["\n  display: inline-block;\n  left: 0;\n  margin-right: 10px;\n  position: relative;\n  width: 20px;\n  height: 20px;\n"]);return v=function(){return e},e}var x=h.b.span(v()),k=h.b.label(b(),m.a),E=function e(n){var t=n.label,a=n.checked,c=n.index,i=n.inputValue,l=n.onchange,o=n.filterTransfer;return e.defaultProps={onchange:function(){},filterTransfer:function(){},label:"",checked:!1,index:0,inputValue:0},r.a.createElement("div",null,r.a.createElement(k,null,r.a.createElement("input",{type:"checkbox",onChange:function(){l(c,i),o()},checked:a}),r.a.createElement(x,{className:"checkbox"}),t))};function j(){var e=Object(p.a)(["\n  padding: 0;\n  margin: 10px 0 5px 0;\n  list-style: none;\n"]);return j=function(){return e},e}function w(){var e=Object(p.a)(["\n  background: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  padding: 5px 0;\n"]);return w=function(){return e},e}function O(){var e=Object(p.a)(["\n  font-style: normal;\n  margin: 15px 0 0 20px;\n  text-align: left;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 12px;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n"]);return O=function(){return e},e}var y=h.b.p(O()),A=h.b.div(w()),N=h.b.ul(j()),_=function e(n){var t=n.arrNameLabel,a=n.transferChange,c=n.filterTransfer;return e.defaultProps={transferChange:function(){},filterTransfer:function(){},arrNameLabel:[]},r.a.createElement(A,{className:"filters__item filter"},r.a.createElement(y,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),r.a.createElement("div",{className:"filter__content"},r.a.createElement("div",{className:"filter__controls checkboxes-list"},r.a.createElement(N,null,t.map((function(e,n){var t=e.label,i=e.id,l=e.checked,o=e.inputValue;return r.a.createElement("li",{key:i},r.a.createElement(E,{label:t,checked:l,index:n,inputValue:o,onchange:a,filterTransfer:c}))}))))))};function T(){var e=Object(p.a)(["\n  width: 50%;\n  display: inline-block;\n  font-size: 15px;\n  height: 50px;\n  left: calc(50% - 251px / 2 + 252.5px);\n  background: ",";\n  color: ",";\n  border: 1px solid #dfe5ec;\n  &:nth-child(1) {\n    border-radius: 10px 0 0 10px;\n  }\n  &:nth-child(2) {\n    border-radius: 0 10px 10px 0;\n  }\n"]);return T=function(){return e},e}var I=h.b.button(T(),(function(e){return e.active?"#2196F3":"#fff"}),(function(e){return e.active?"#fff":"#4A4A4A"})),S=function(e){function n(){var e;return Object(o.a)(this,n),(e=Object(u.a)(this,Object(d.a)(n).call(this))).isActive=function(n){var t=n.target;e.setState({active:t.name})},e.state={active:"cheapest"},e}return Object(f.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.sortDescending,a=n.sortByAscending,c=this.state.active;return r.a.createElement("div",{className:"tabs-wrapper"},r.a.createElement(I,{name:"cheapest",onClick:function(n){t(),e.isActive(n)},active:"cheapest"===c},"\u0441\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"),r.a.createElement(I,{name:"dearest",onClick:function(n){a(),e.isActive(n)},active:"dearest"===c},"\u0441\u0430\u043c\u044b\u0439 \u0434\u043e\u0440\u043e\u0433\u043e\u0439"))}}]),n}(r.a.Component);S.defaultProps={sortDescending:function(){},sortByAscending:function(){}};var z=S,L=t(5),V=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"descending";return"descending"===n?e.sort((function(e,n){return e.price<n.price?-1:e.price>n.price?1:0})):"ascending"===n&&e.sort((function(e,n){return e.price>n.price?-1:e.price<n.price?1:0}))};function C(){var e=Object(p.a)(["\n  width: 35%;\n\n  :nth-last-of-type(1) {\n    width: auto;\n  }\n"]);return C=function(){return e},e}function B(){var e=Object(p.a)(["\n  color: #4a4a4a;\n  margin: 0;\n  font-size: 14px;\n  line-height: 21px;\n  font-weight: 600;\n"]);return B=function(){return e},e}function D(){var e=Object(p.a)(["\n  color: #a0b0b9;\n  letter-spacing: 0.5px;\n  margin: 11px 0 0 0;\n  font-size: 12px;\n  line-height: 18px;\n  text-transform: uppercase;\n"]);return D=function(){return e},e}function H(){var e=Object(p.a)(["\n  display: flex;\n  text-align: left;\n\n  &.ticket-preview__flight {\n    width: 33%;\n  }\n"]);return H=function(){return e},e}var M=h.b.div(H()),P=h.b.p(D()),q=h.b.p(B()),F=h.b.div(C()),J=function e(n){var t=n.segments;return e.defaultProps={segments:[]},t.map((function(e){var n=e.origin,t=e.destination,a=e.date,c=e.duration,i=e.stops,l=i.reduce((function(e,n){return"".concat(n," ").concat(e)}),""),o=Math.floor(c/60),s=c-60*o,u=new Date(a),d="".concat(u.getHours(),":").concat(u.getMinutes()<10?"0".concat(u.getMinutes()):u.getMinutes());return r.a.createElement(M,{key:Object(L.uniqueId)()},r.a.createElement(F,null,r.a.createElement(P,null,"".concat(n," - ").concat(t)),r.a.createElement(q,null,"".concat(d," - ").concat(function(e,n,t){var a=e.getHours()+n,r=e.getMinutes()+t,c=0;return a>=24&&(a-=24)>=24&&(a-=24),r>=60?(c=r-60,a+=1):c=r,"".concat(a<10?"0".concat(a):a,":").concat(c<10?"0".concat(c):c)}(u,o,s)))),r.a.createElement(F,null,r.a.createElement(P,null,"\u0412 \u043f\u0443\u0442\u0438"),r.a.createElement(q,null,"".concat(o,"\u0447 ").concat(s<10?"0".concat(s):s,"\u043c"))),r.a.createElement(F,null,r.a.createElement(P,null,function(e){var n;return 1===e.length&&(n="".concat(e.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430")),e.length>1&&(n="".concat(e.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")),0===e.length&&(n="\u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),n}(i)),r.a.createElement(q,null,l)))}))};function W(){var e=Object(p.a)(["\n  color: #2196f3;\n  margin: 7px 0 0 0px;\n  font-size: 24px;\n  line-height: 24px;\n"]);return W=function(){return e},e}function $(){var e=Object(p.a)(["\n  margin: 0 30px 0 0;\n"]);return $=function(){return e},e}function G(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return G=function(){return e},e}function K(){var e=Object(p.a)(["\n  background: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  margin-top: 20px;\n  padding: 20px;\n"]);return K=function(){return e},e}var Q=h.b.div(K()),R=h.b.div(G()),U=h.b.div($()),X=h.b.div(W()),Y=function e(n){var t=n.tickets;e.defaultProps={tickets:[]};var a=0;return r.a.createElement(r.a.Fragment,null,t.map((function(e){var n=e.price,t=e.carrier,c=e.segments;return(a+=1)>5?null:r.a.createElement(Q,{key:Object(L.uniqueId)()},r.a.createElement(R,null,r.a.createElement(X,null,r.a.createElement("span",null,"".concat(n.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1 ")," \u0420"))),r.a.createElement("div",{className:"ticket-preview__carriers"},r.a.createElement(U,null,r.a.createElement("img",{className:"ticket-carrier__img",src:"//pics.avs.io/99/36/".concat(t,".png"),width:"100",height:"40",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u0430\u0432\u0438\u043e\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"})))),r.a.createElement(J,{key:Object(L.uniqueId)(),segments:c}))})))},Z=(t(42),function(){return r.a.createElement("div",{className:"loadingio-spinner-spinner-223z6fdkjge"},r.a.createElement("div",{className:"ldio-vwhx2ilfl4e"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),ee=t(6),ne=t.n(ee),te=t(14),ae=t(15),re=t.n(ae),ce=function e(){Object(o.a)(this,e),this.getTicketsId=Object(te.a)(ne.a.mark((function e(){var n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("https://front-test.beta.aviasales.ru/search");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),this.getAllTickets=function(){var e=Object(te.a)(ne.a.mark((function e(n){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(n));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};function ie(){var e=Object(p.a)(["\n  text-align: center;\n  background-color: #e5e5e5;\n  display: grid;\n  grid-template-columns: 232px 502px;\n  grid-gap: 30px 20px;\n  justify-content: center;\n  margin-top: 148px;\n  .header__logo {\n    grid-row: 1;\n    grid-column: 2 / 2;\n    display: flex;\n    margin-left: 83px;\n  }\n\n  .sidebar {\n    grid-row: 2 / 2;\n    grid-column: 1 / 2;\n  }\n\n  .main {\n    grid-row: 2 / 2;\n    grid-column: 2 / 2;\n  }\n"]);return ie=function(){return e},e}function le(){var e=Object(p.a)(["\n  body {\n    background-color: #E5E5E5;\n    font-family: 'Open Sans', sans-serif;\n    font-size: 12px;\n    font-weight: 600;\n    color: #4A4A4A;\n    line-height: 20px;\n  }\n"]);return le=function(){return e},e}var oe=Object(h.a)(le()),se=h.b.div(ie()),ue=t(31),de=t.n(ue),fe=function(e){function n(){var e;return Object(o.a)(this,n),(e=Object(u.a)(this,Object(d.a)(n).call(this))).inicialState=[{label:"\u0412\u0441\u0435",id:"all",inputValue:0,checked:!0},{label:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a",id:"non-stop",inputValue:1,checked:!1},{label:"1 \u043f\u0435\u0440\u0441\u0430\u0434\u043a\u0430",id:"1-trasplant",inputValue:2,checked:!1},{label:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",id:"2-transplant",inputValue:3,checked:!1},{label:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",id:"3-transplant",inputValue:4,checked:!1}],e.servisec=new ce,e.changeTransferHandler=function(n){var t=e.state.arrNameLabel;t.forEach((function(e,a){a===n&&(t[a].checked=!t[a].checked)})),e.setState({arrNameLabel:t})},e.tickets=function(){var n=e.state.ticketId;e.servisec.getAllTickets(n).then((function(n){if(!n.data.stop){var t=n.data.tickets,a=e.state.ticketsAll;e.setState({ticketsAll:[].concat(Object(l.a)(a),Object(l.a)(t)),loading:!1}),e.tickets()}})).catch((function(){return e.tickets()}))},e.filterTicketsHandler=function(){var n=e.state,t=n.ticketsAll,a=n.arrNameLabel;return a[0].checked?t:t.filter((function(e){return a[e.segments[0].stops.length+1].checked}))},e.sortDescending=function(){var n=e.state.ticketsAll,t=V(n,"descending");e.setState({ticketsAll:t})},e.sortByAscending=function(){var n=e.state.ticketsAll,t=V(n,"ascending");e.setState({ticketsAll:t})},e.state={ticketsAll:[],ticketId:null,loading:!0,arrNameLabel:Object(l.a)(e.inicialState)},e}return Object(f.a)(n,e),Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.servisec.getTicketsId().then((function(n){var t=n.data;return e.setState({ticketId:t.searchId})})),this.tickets()}},{key:"render",value:function(){var e=this.state,n=e.loading,t=e.arrNameLabel,a=this.filterTicketsHandler();return r.a.createElement(se,null,r.a.createElement(oe,null),r.a.createElement("div",{key:1,className:"header__logo"},r.a.createElement("img",{src:de.a,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})),r.a.createElement("div",{key:2,className:"sidebar"},r.a.createElement(_,{filterTransfer:this.filterTicketsHandler,transferChange:this.changeTransferHandler,arrNameLabel:t})),r.a.createElement("div",{key:3,className:"main"},r.a.createElement(z,{sortDescending:this.sortDescending,sortByAscending:this.sortByAscending}),n?r.a.createElement(Z,null):r.a.createElement(Y,{tickets:a})))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(60);i.a.render(r.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.63c4c086.chunk.js.map