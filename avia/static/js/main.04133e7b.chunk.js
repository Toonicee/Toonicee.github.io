(this.webpackJsonpstopwatch=this.webpackJsonpstopwatch||[]).push([[0],{26:function(e,n,t){e.exports=t.p+"static/media/Shape.68ca57dc.svg"},30:function(e,n,t){e.exports=t.p+"static/media/Logo.96990a1b.svg"},32:function(e,n,t){e.exports=t(59)},37:function(e,n,t){},39:function(e,n,t){},57:function(e,n,t){},59:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(25),i=t.n(c),l=(t(37),t(10)),o=t(4),s=t(6),u=t(8),f=t(7),d=t(9),p=t(1),m=t(2),h=t(26),b=t.n(h);function g(){var e=Object(p.a)(["\n  text-align: left;\n  height: 40px;\n  padding: 0 20px;\n  font-weight: normal;\n  font-size: 13px;\n  position: relative;\n  display: flex;\n  align-items: center;\n\n  &:hover {\n    background: #f1fcff;\n  }\n  &:focus {\n    background: #f1fcff;\n    .checkbox {\n      &::after {\n        border: 1px solid red;\n      }\n    }\n  }\n  &:active {\n    background: #f1fcff;\n  }\n\n  input {\n    opacity: 0;\n    position: absolute;\n    z-index: -1;\n    &:checked {\n      + .checkbox {\n        &::before {\n          content: '';\n          position: absolute;\n          background-position: center center;\n          width: 12px;\n          height: 8px;\n          top: 6px;\n          left: 5px;\n          background: url(",") no-repeat;\n        }\n        &::after {\n          border: 1px solid #2196f3;\n        }\n      }\n    }\n    + .checkbox::after {\n      content: '';\n      width: 20px;\n      height: 20px;\n      position: absolute;\n      border: 1px solid #9abbce;\n      box-sizing: border-box;\n      border-radius: 2px;\n    }\n  }\n"]);return g=function(){return e},e}function v(){var e=Object(p.a)(["\n  display: inline-block;\n  left: 0;\n  margin-right: 10px;\n  position: relative;\n  width: 20px;\n  height: 20px;\n"]);return v=function(){return e},e}var x=m.b.span(v()),k=m.b.label(g(),b.a),E=function(e){var n=e.label,t=e.checked,a=e.index,c=e.inputValue,i=e.onchange,l=e.filterTransfer;return r.a.createElement("div",null,r.a.createElement(k,null,r.a.createElement("input",{type:"checkbox",onChange:function(){i(a,c),l()},checked:t}),r.a.createElement(x,{className:"checkbox"}),n))};function O(){var e=Object(p.a)(["\n  padding: 0;\n  margin: 10px 0 5px 0;\n  list-style: none;\n"]);return O=function(){return e},e}function j(){var e=Object(p.a)(["\n  background: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  padding: 5px 0;\n"]);return j=function(){return e},e}function w(){var e=Object(p.a)(["\n  font-style: normal;\n  margin: 15px 0 0 20px;\n  text-align: left;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 12px;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n"]);return w=function(){return e},e}var y=m.b.p(w()),A=m.b.div(j()),N=m.b.ul(O()),_=function(e){function n(){var e;return Object(o.a)(this,n),(e=Object(u.a)(this,Object(f.a)(n).call(this))).state={},e}return Object(d.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){var e=this.props,n=e.arrNameLabel,t=e.transferChange,a=e.filterTransfer;return console.log(n),r.a.createElement(A,{className:"filters__item filter"},r.a.createElement(y,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),r.a.createElement("div",{className:"filter__content"},r.a.createElement("div",{className:"filter__controls checkboxes-list"},r.a.createElement(N,null,n.map((function(e,n){var c=e.label,i=e.id,l=e.checked,o=e.inputValue;return r.a.createElement("li",{key:i},r.a.createElement(E,{label:c,checked:l,index:n,inputValue:o,onchange:t,filterTransfer:a}))}))))))}}]),n}(r.a.Component);function T(){var e=Object(p.a)(["\n  font-size: 12px;\n  font-family: 'Open Sans', sans-serif !important;\n  line-height: 20px;\n"]);return T=function(){return e},e}function S(){var e=Object(p.a)(["\n  width: 50%;\n  display: inline-block;\n  height: 50px;\n  left: calc(50% - 251px / 2 + 252.5px);\n  background: ",";\n  color: ",";\n  border: 1px solid #dfe5ec;\n"]);return S=function(){return e},e}var z=m.b.button(S(),(function(e){return"cheapest"===e.active?"#2196F3":"#fff"}),(function(e){return e.active?"#fff":"#4A4A4A"})),I=m.b.span(T()),L=function(e){var n,t=e.sortDescending,a=e.sortByAscending,c=function(e){n="cheapest"!==e.target.name?"dearest":"cheapest"};return console.log(n),r.a.createElement("div",{className:"tabs-wrapper"},r.a.createElement(z,{name:"cheapest",onClick:function(e){t(),c(e)},active:"cheapest"},r.a.createElement(I,null,"\u0441\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439")),r.a.createElement(z,{name:"dearest",onClick:function(e){a(),c(e)}},r.a.createElement(I,null,"\u0441\u0430\u043c\u044b\u0439 \u0434\u043e\u0440\u043e\u0433\u043e\u0439")))},V=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"descending";return"descending"===n?e.sort((function(e,n){return e.price<n.price?-1:e.price>n.price?1:0})):"ascending"===n&&e.sort((function(e,n){return e.price>n.price?-1:e.price<n.price?1:0}))};function C(){var e=Object(p.a)(["\n  width: 35%;\n\n  :nth-last-of-type(1) {\n    width: auto;\n  }\n"]);return C=function(){return e},e}function H(){var e=Object(p.a)(["\n  color: #4a4a4a;\n  margin: 0;\n  font-size: 14px;\n  line-height: 21px;\n  font-weight: 600;\n"]);return H=function(){return e},e}function B(){var e=Object(p.a)(["\n  color: #a0b0b9;\n  letter-spacing: 0.5px;\n  margin: 11px 0 0 0;\n  font-size: 12px;\n  line-height: 18px;\n  text-transform: uppercase;\n"]);return B=function(){return e},e}function D(){var e=Object(p.a)(["\n  display: flex;\n  text-align: left;\n\n  &.ticket-preview__flight {\n    width: 33%;\n  }\n"]);return D=function(){return e},e}var M=m.b.div(D()),F=m.b.p(B()),J=m.b.p(H()),W=m.b.div(C()),q=function(e){return e.segments.map((function(e){var n=e.origin,t=e.destination,a=e.date,c=e.duration,i=e.stops,l=i.reduce((function(e,n){return"".concat(n,", ").concat(e)}),""),o=Math.floor(c/60),s=c-60*o,u=new Date(a),f="".concat(u.getHours(),":").concat(u.getMinutes()<10?"0".concat(u.getMinutes()):u.getMinutes());return r.a.createElement(M,null,r.a.createElement(W,null,r.a.createElement(F,null,"".concat(n," - ").concat(t)),r.a.createElement(J,null,"".concat(f," - ").concat(function(e,n,t){var a=e.getHours()+n,r=e.getMinutes()+t,c=0;return a>=24&&(a-=24)>=24&&(a-=24),r>=60?(c=r-60,a+=1):c=r,"".concat(a<10?"0".concat(a):a,":").concat(c<10?"0".concat(c):c)}(u,o,s)))),r.a.createElement(W,null,r.a.createElement(F,null,"\u0412 \u043f\u0443\u0442\u0438"),r.a.createElement(J,null,"".concat(o,"\u0447 ").concat(s<10?"0".concat(s):s,"\u043c"))),r.a.createElement(W,null,r.a.createElement(F,null,function(e){var n;return 1===e.length&&(n="".concat(e.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430")),e.length>1&&(n="".concat(e.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")),0===e.length&&(n="\u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),n}(i)),r.a.createElement(J,null,l)))}))};function P(){var e=Object(p.a)(["\n  color: #2196f3;\n  margin: 7px 0 0 0px;\n  font-size: 24px;\n  line-height: 24px;\n"]);return P=function(){return e},e}function $(){var e=Object(p.a)(["\n  margin: 0 30px 0 0;\n"]);return $=function(){return e},e}function G(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return G=function(){return e},e}function K(){var e=Object(p.a)(["\n  background: #ffffff;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  margin-top: 20px;\n  padding: 20px;\n"]);return K=function(){return e},e}var Q=m.b.div(K()),R=m.b.div(G()),U=m.b.div($()),X=m.b.div(P()),Y=function(e){var n=e.tickets,t=0;return r.a.createElement(r.a.Fragment,null,n.map((function(e){var n=e.price,a=e.carrier,c=e.segments;return(t+=1)>5?null:r.a.createElement(Q,{stat:100},r.a.createElement(R,null,r.a.createElement(X,null,r.a.createElement("span",null,"".concat(n," \u0420"))),r.a.createElement("div",{className:"ticket-preview__carriers"},r.a.createElement(U,null,r.a.createElement("img",{className:"ticket-carrier__img",src:"//pics.avs.io/99/36/".concat(a,".png"),width:"100",height:"40",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u0430\u0432\u0438\u043e\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"})))),r.a.createElement(q,{segments:c}))})))};Y.defaultProps={tickets:[]};var Z=Y,ee=(t(39),function(){return r.a.createElement("div",{className:"loadingio-spinner-spin-iictpridqml"},r.a.createElement("div",{className:"ldio-1729iupfvxn"},r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null))))}),ne=t(5),te=t.n(ne),ae=t(13),re=t(14),ce=t.n(re),ie=function e(){Object(o.a)(this,e),this.getTicketsId=Object(ae.a)(te.a.mark((function e(){var n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.a.get("https://front-test.beta.aviasales.ru/search");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),this.getAllTickets=function(){var e=Object(ae.a)(te.a.mark((function e(n){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.a.get("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(n));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},le=(t(57),t(30)),oe=t.n(le);function se(){var e=Object(p.a)(["\n  body {\n    background-color: #E5E5E5;\n    font-family: 'Open Sans', sans-serif;\n    font-size: 12px;\n    font-weight: 600;\n    color: #4A4A4A;\n    line-height: 20px;\n\n  }\n"]);return se=function(){return e},e}var ue=Object(m.a)(se()),fe=function(e){function n(){var e;return Object(o.a)(this,n),(e=Object(u.a)(this,Object(f.a)(n).call(this))).inicialState=[{label:"\u0412\u0441\u0435",id:"all",inputValue:0,checked:!0},{label:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a",id:"non-stop",inputValue:1,checked:!1},{label:"1 \u043f\u0435\u0440\u0441\u0430\u0434\u043a\u0430",id:"1-trasplant",inputValue:2,checked:!1},{label:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",id:"2-transplant",inputValue:3,checked:!1},{label:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",id:"3-transplant",inputValue:4,checked:!1}],e.changeTransferHandler=function(n){var t=e.state.arrNameLabel;console.log(n),t.forEach((function(e,a){a===n&&(t[a].checked=!t[a].checked)})),e.setState({arrNameLabel:t})},e.servisec=new ie,e.tickets=function(){var n=e.state.ticketId;e.servisec.getAllTickets(n).then((function(n){if(e.setState({stop:n.data.stop}),!n.data.stop){var t=n.data.tickets,a=e.state.ticketsAll;e.setState({ticketsAll:[].concat(Object(l.a)(a),Object(l.a)(t)),loading:!1}),e.tickets()}})).catch((function(n){return e.tickets()}))},e.filterTicketsHandler=function(){var n=e.state,t=n.ticketsAll,a=n.arrNameLabel;return a[0].checked?t:t.filter((function(e){return a[e.segments[0].stops.length+1].checked}))},e.sortDescending=function(){var n=e.state.ticketsAll,t=V(n,"descending");e.setState({ticketsAll:t})},e.sortByAscending=function(){var n=e.state.ticketsAll,t=V(n,"ascending");e.setState({ticketsAll:t})},e.state={ticketsAll:[],ticketId:null,loading:!0,arrNameLabel:Object(l.a)(e.inicialState)},e}return Object(d.a)(n,e),Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.servisec.getTicketsId().then((function(n){var t=n.data;return e.setState({ticketId:t.searchId})})),this.tickets()}},{key:"render",value:function(){var e=this.state,n=e.loading,t=(e.stop,e.arrNameLabel),a=this.filterTicketsHandler(),c=n?r.a.createElement(ee,null):r.a.createElement(Z,{tickets:a});return r.a.createElement("div",{className:"App"},r.a.createElement(ue,null),r.a.createElement("div",{className:"header__logo"},r.a.createElement("img",{src:oe.a})),r.a.createElement("div",{className:"sidebar"},r.a.createElement(_,{filterTransfer:this.filterTicketsHandler,transferChange:this.changeTransferHandler,arrNameLabel:t})),r.a.createElement("div",{className:"main"},r.a.createElement(L,{sortDescending:this.sortDescending,sortByAscending:this.sortByAscending}),c))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(58);i.a.render(r.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.04133e7b.chunk.js.map